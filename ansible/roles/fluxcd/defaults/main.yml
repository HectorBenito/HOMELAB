---
# Cluster configuration
cluster_name: "nasbenito"
cluster_endpoint: "https://192.168.110.50:6443"  # Control plane IP
cluster_vip_ip: "192.168.110.50"  # VIP for control plane

# Kubeconfig que ya generas con Talos/Ansible
kubeconfig_path: "{{ playbook_dir }}/../../talos-nasbenito/rendered/kubeconfig"

# Talos configuration directory (relative to repo root)
talos_config_dir: "{{ playbook_dir }}/../../talos-{{ cluster_name }}"

# Flux
flux_version: "2.4.0"   # fija versión para reproducibilidad (ajústala cuando quieras)

# GitHub bootstrap (recomendado)
github_owner: "HectorBenito"
github_repo: "HOMELAB"
github_branch: "main"

# Ruta dentro del repo donde Flux guardará los manifests de sync
# (te recomiendo que uses una carpeta dedicada)
flux_path: "gitops/clusters/homelab"

# Método auth:
# - token-auth: usa PAT (más simple)
# - ssh: con deploy key (más “gitops purista”)
flux_auth_method: "token"  # "token" o "ssh"

# PAT con permisos repo (classic) o fine-grained (contents write + etc)
# Lo ideal: exportarlo como variable de entorno GITHUB_TOKEN en tu máquina.
github_token_env: "GITHUB_TOKEN"
